import{o as ne,a as le,I as C,i as se,b as P,r as V,h as ie}from"./Icon.CFBDzVEh.js";import{y as oe,x as R,z as fe,j as h,o as Z,H as ce,A as Y,B as F,C as D,D as L,E as ue,F as $,G as j,I as de,J as O,K as ee,L as K,M as ve,m as N,N as U,O as he,P as pe,Q as me,R as be,S as ge,T as _e,U as xe,V as ke,W as we,p as ye,l as W,n as Ee,t as ae,X as Ie,a as X,e as q,b as z,f as Te,i as H,s as T,c as A,r as S,k as Ae}from"./render.AU3tqtiP.js";import{b as G}from"./input.B6POUT_J.js";import{u as J}from"./url-utils.BIA3w0xf.js";import{I as Se}from"./zh_TW.BSGpsz4g.js";function Me(e,t){return t}function Re(e,t,a,s){for(var n=[],l=t.length,r=0;r<l;r++)me(t[r].e,n,!0);var i=l>0&&0===n.length&&null!==a;if(i){var o=a.parentNode;be(o),o.append(a),s.clear(),y(e,t[0].prev,t[l-1].next)}ge(n,(()=>{for(var a=0;a<l;a++){var n=t[a];i||(s.delete(n.k),y(e,n.prev,n.next)),_e(n.e,!i)}}))}function Le(e,t,a,s,n,l=null){var r=e,i={flags:t,items:new Map,first:null};R&&fe();var o=null,c=!1,u=Z((()=>{var e=a();return he(e)?e:null==e?[]:ee(e)}));oe((()=>{var e=h(u),d=e.length;if(c&&0===d)return;c=0===d;let f=!1;R&&(r.data===ce!==(0===d)&&(r=Y(),F(r),D(!1),f=!0));if(R){for(var v,p=null,x=0;x<d;x++){if(8===L.nodeType&&L.data===ue){r=L,f=!0,D(!1);break}var b=e[x],g=s(b,x);v=te(L,i,p,null,b,g,x,n,t,a),i.items.set(g,v),p=v}d>0&&F(Y())}R||Ne(e,i,r,n,t,s,a),null!==l&&(0===d?o?$(o):o=j((()=>l(r))):null!==o&&de(o,(()=>{o=null}))),f&&D(!0),h(u)})),R&&(r=L)}function Ne(e,t,a,s,n,l,r){var i,o,c,h,u,d=e.length,f=t.items,v=t.first,p=null,x=[],b=[];for(u=0;u<d;u+=1)if(c=l(o=e[u],u),void 0!==(h=f.get(c))){if(Ce(h,o,u),!!(h.e.f&O)&&$(h.e),h!==v){if(void 0!==i&&i.has(h)){if(x.length<b.length){var g,m=b[0];p=m.prev;var k=x[0],w=x[x.length-1];for(g=0;g<x.length;g+=1)Q(x[g],m,a);for(g=0;g<b.length;g+=1)i.delete(b[g]);y(t,k.prev,w.next),y(t,p,k),y(t,w,m),v=m,p=w,u-=1,x=[],b=[]}else i.delete(h),Q(h,v,a),y(t,h.prev,h.next),y(t,h,null===p?t.first:p.next),y(t,p,h),p=h;continue}for(x=[],b=[];null!==v&&v.k!==c;)!(v.e.f&O)&&(i??=new Set).add(v),b.push(v),v=v.next;if(null===v)continue;h=v}x.push(h),p=h,v=h.next}else{p=te(v?v.e.nodes_start:a,t,p,null===p?t.first:p.next,o,c,u,s,n,r),f.set(c,p),x=[],b=[],v=p.next}if(null!==v||void 0!==i){for(var S=void 0===i?[]:ee(i);null!==v;)!(v.e.f&O)&&S.push(v),v=v.next;if(S.length>0){Re(t,S,null,f)}}K.first=t.first&&t.first.e,K.last=p&&p.e}function Ce(e,t,a,s){ve(e.v,t),e.i=a}function te(e,t,a,s,n,l,r,i,o,c){var h=!!(o&xe)?!(o&ke)?N(n):U(n):n,u=o&pe?U(r):r,d={i:u,v:h,k:l,a:null,e:null,prev:a,next:s};try{return d.e=j((()=>i(e,h,u,c)),R),d.e.prev=a&&a.e,d.e.next=s&&s.e,null===a?t.first=d:(a.next=d,a.e.next=d.e),null!==s&&(s.prev=d,s.e.prev=d.e),d}finally{}}function Q(e,t,a){for(var s=e.next?e.next.e.nodes_start:a,n=t?t.e.nodes_start:a,l=e.e.nodes_start;l!==s;){var r=we(l);n.before(l),l=r}}function y(e,t,a){null===t?e.first=a:(t.next=a,t.e.next=a&&a.e),null!==a&&(a.prev=t,a.e.prev=t&&t.e)}var He=ae('<a class="transition first-of-type:mt-2 lg:first-of-type:mt-0 group block\n       rounded-xl text-lg px-3 py-2 hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)]"><div class="transition text-90 inline-flex font-bold group-hover:text-[var(--primary)]"> <!></div> <div class="transition text-sm text-50"><!></div></a>'),Be=ae('<div id="search-bar" class="hidden lg:flex transition-all items-center h-11 mr-2 rounded-lg\n      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]\n      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10\n"><!> <input class="transition-all pl-10 text-sm bg-transparent outline-0\n         h-full w-40 active:w-60 focus:w-60 text-black/50 dark:text-white/50 svelte-1gu5h8y"></div> <button aria-label="Search Panel" id="search-switch" class="btn-plain scale-animation lg:!hidden rounded-lg w-11 h-11 active:scale-90"><!></button> <div id="search-panel" class="float-panel float-panel-closed search-panel absolute md:w-[30rem]\ntop-20 left-4 md:left-[unset] right-4 shadow-2xl rounded-2xl p-2"><div id="search-bar-inside" class="flex relative lg:hidden transition-all items-center h-11 rounded-xl\n      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]\n      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10\n  "><!> <input placeholder="Search" class="pl-10 absolute inset-0 text-sm bg-transparent outline-0\n               focus:w-60 text-black/50 dark:text-white/50 svelte-1gu5h8y"></div> <!></div>',1);function Ke(e,t){ye(t,!1);let a=N(""),s=N(""),n=N([]);J("/"),J("/");let l=N(((e,t)=>{}));ne((()=>{H(l,(async(e,t)=>{let a=document.getElementById("search-panel");if(!a)return;if(!e&&t)return void a.classList.add("float-panel-closed");let s=[];{const t=await pagefind.search(e);for(const e of t.results)s.push(await e.data())}s.length||!t?(t&&a.classList.remove("float-panel-closed"),H(n,s)):a.classList.add("float-panel-closed")}))}));W((()=>(h(l),h(a))),(()=>{h(l)(h(a),!0)})),W((()=>(h(l),h(s))),(()=>{h(l)(h(s),!1)})),Ee(),le();var r=Be(),i=Ie(r),o=A(i);C(o,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var c=T(o,2);V(c),S(i);var u=T(i,2),d=A(u);C(d,{icon:"material-symbols:search",class:"text-[1.25rem]"}),S(u);var f=T(u,2),v=A(f),p=A(v);C(p,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var x=T(p,2);V(x),S(v),Le(T(v,2),1,(()=>h(n)),Me,((e,t)=>{var a=He(),s=A(a),n=A(s,!0),l=T(n);C(l,{icon:"fa6-solid:chevron-right",class:"transition text-[0.75rem] translate-x-1 my-auto text-[var(--primary)]"}),S(s);var r=T(s,2),i=A(r);ie(i,(()=>h(t).excerpt),!1,!1),S(r),S(a),X((()=>{P(a,"href",h(t).url),Ae(n,h(t).meta.title)})),z(e,a)})),S(f),X((e=>P(c,"placeholder",e)),[()=>se(Se.search)],Z),G(c,(()=>h(a)),(e=>H(a,e))),q("focus",c,(()=>h(l)(h(a),!0))),q("click",u,(()=>{document.getElementById("search-panel")?.classList.toggle("float-panel-closed")})),G(x,(()=>h(s)),(e=>H(s,e))),z(e,r),Te()}export{Ke as default};